<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://unpkg.com/vue-multiselect@2.1.0/dist/vue-multiselect.min.css">

    <script src="https://code.jquery.com/jquery-1.9.1.js"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>
	<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/vue@2.6.10/dist/vue.js"></script>
    <script src="https://unpkg.com/vue-multiselect@2.1.0"></script>

    <style>
        .menu {
            z-index: 1023;
            background-color: rgba(66, 74, 93, 0.5);
            color: black;
            position: fixed;
            top: 33%;
            right: 0;
            width: 50px;
            padding: 10px;
            line-height: 2em;
            font-family: sans-serif;
            font-size: 1.6em;
            text-align: center;
            border-radius: 10px 0 0 10px;
          }
          
          .menu div {
              /* display: inline;
            margin-right: 17px; */
          }
          
          /* dropleft copy from BootStrap 4 */
          
          .dropleft {
              position: relative;
          }
          
          .dropleft .dropdown-menu {
              top: 0.4rem;
              right: 35px;
              left: auto;
              margin-top: 0;
              margin-right: 0.125rem;
          }
          
          .dropleft .dropdown-toggle::after {
              display: inline-block;
              width: 0;
              height: 0;
              margin-left: 0.255em;
              vertical-align: 0.255em;
              content: "";
          }
          
          .dropleft .dropdown-toggle::after {
              display: none;
          }
          
          .dropleft .dropdown-toggle::before {
              display: inline-block;
              width: 0;
              height: 0;
              margin-right: 0.3em;
              vertical-align: 0.255em;
              content: "";
              border-top: 0.3em solid transparent;
              border-right: 0.3em solid;
              border-bottom: 0.3em solid transparent;
          }
          
          .dropleft .dropdown-toggle:empty::after {
              margin-left: 0;
          }
          
          .dropleft .dropdown-toggle::before {
              vertical-align: 0;
          }
          
          .patent-toolbox a {
              color: #fff;
              text-decoration: none;
          }
          
          .patent-toolbox a:hover, .patent-toolbox a:focus {
              color: #374454;
          }
      
          [draggable="true"] {
            user-select: none;
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
          }
    </style>

    <script>
        $(function() {
            dragElement(document.getElementById("aaa"));
            

            $('#aaa').click(function(e) {
                e.stopPropagation();
            });

            $('#bbb').click(function(e) {
              e.stopPropagation();
            });

            $('#note').on({
              "shown.bs.dropdown": function() { this.closable = false; },
              "click":             function() { this.closable = true; },
              "hide.bs.dropdown":  function() { return this.closable; }
            });

            $('#note1').on({
              "shown.bs.dropdown": function() { this.closable = false; },
              "click":             function() { this.closable = true; },
              "hide.bs.dropdown":  function() { return this.closable; }
            });
            
            

            function dragElement(elmnt) {
                var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
                if (document.getElementById(elmnt.id + "header")) {
                    // if present, the header is where you move the DIV from:
                    document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
                } else {
                    // otherwise, move the DIV from anywhere inside the DIV:
                    elmnt.onmousedown = dragMouseDown;
                }

                function dragMouseDown(e) {
                    e = e || window.event;
                    e.preventDefault();
                    // get the mouse cursor position at startup:
                    pos3 = e.clientX;
                    pos4 = e.clientY;
                    document.onmouseup = closeDragElement;
                    // call a function whenever the cursor moves:
                    document.onmousemove = elementDrag;
                }

                function elementDrag(e) {
                    e = e || window.event;
                    e.preventDefault();
                    // calculate the new cursor position:
                    pos1 = pos3 - e.clientX;
                    pos2 = pos4 - e.clientY;
                    pos3 = e.clientX;
                    pos4 = e.clientY;
                    // set the element's new position:
                    elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
                    elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
                }

                function closeDragElement() {
                    // stop moving when mouse button is released:
                    document.onmouseup = null;
                    document.onmousemove = null;
                }
            }
        });

    </script>
</head>
<body>
    
    <!-- Toolbar -->
    <div id="toolbar" class="menu">
        <div id="note" class="dropleft patent-toolbox">
            <a href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="筆記" class="">
              <i aria-hidden="true" class="fa fa-book"></i>
            </a> 
          
            <ul id="aaa" class="dropdown-menu" style="width: 300px;position: absolute" draggable="true" @click.stop>
              <div no-print="true" class="row fh5co-con" style="margin: 0px;border: 1px #000 dashed">
                <div>
                  <div class="alert alert-block" style="font-size: unset; border-color: transparent; margin: 0px;">
                    <div>
                      <button type="button" class="btn btn-lg btn-patent-note">
                        <i aria-hidden="true" class=""></i>
                          2019-09-10 <br/>
                            comment 
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <div no-print="true" class="row fh5co-con" style="margin: 0px;border: 1px #000 dashed;margin-top:10px">
                <div>
                  <div class="alert alert-block" style="font-size: unset; border-color: transparent; margin: 0px;">
                    <div>
                      <button type="button" class="btn btn-lg btn-patent-note">
                        <i aria-hidden="true" class=""></i>
                          2019-09-11 <br/>
                            comment 1
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <div no-print="true" class="row fh5co-con" style="margin: 0px;border: 1px #000 dashed;margin-top:10px">
                <div>
                  <div class="alert alert-block" style="font-size: unset; border-color: transparent; margin: 0px;">
                    <div>
                      <button type="button" class="btn btn-lg btn-patent-note">
                        <i aria-hidden="true" class=""></i>
                          + add comment
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </ul>
        </div>

        <div id="note1" class="dropleft patent-toolbox">
          <a href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="筆記" class="">
            <i aria-hidden="true" class="fa fa-book"></i>
          </a> 
        
          <ul id="bbb" class="dropdown-menu" style="width: 500px;position: fixed" draggable="true" @click.stop>
            <div no-print="true" class="row fh5co-con" style="margin: 0px;">
                <div>
                  <div class="alert alert-block" style="font-size: unset; border-color: transparent; margin: 0px;">
                    <div class="col-md-1">
					  <label>Name</label>
					</div>
					<div class="col-md-3" style="padding-right: 2px">
                      <input type="text" class="form-control">
					</div>
                    <div class="col-md-1">
                      <label>Date</label>
					</div>
					<div class="col-md-7">
                        <div class="input-group date" id="datetimepicker3">
                            <input type="text" class="form-control" />
                            <span class="input-group-addon">
                                <span class="fa fa-calendar"></span>
                            </span>
                        </div>
                    </div>
                    <div class="col-md-12">
                      <label>Identify From</label>
                      <multiselect v-model="value" tag-placeholder="Add this as new tag" placeholder="Search or add a tag" label="name" track-by="code" :options="options" :multiple="true" :taggable="true" @tag="addTag"></multiselect>
                    </div>
                    <div class="col-md-12">
                      <label>Comment</label>
                      <input type="text" class="form-control">
                    </div>
                    <div class="col-md-12">
                      <label>Linked Account</label>
                      <input type="text" class="form-control">
                    </div>
                    <div class="col-md-12">
                      <label>Suggest</label>
                      <input type="text" class="form-control">
                    </div>
                  	<div class="col-md-12" role="group" style="padding-top: 10px;">
					  <button type="button" class="btn btn-primary">Save</button>
                      <button type="button" class="btn btn-danger">Cancel</button>  
                    </div>
                  </div>
                </div>
              </div>
          </ul>
      </div>
    </div>

	<script type="text/babel">
		// 標籤多選
		var Multiselect = Vue.component('vue-multiselect', window.VueMultiselect.default);
		var toolbar = new Vue({
			el: '#toolbar',
			data() {
				return {
					value: [
						{ name: 'Javascript'}
					],
					options: [
						{ name: 'Vue.js'},
						{ name: 'Javascript'},
						{ name: 'Open Source'}
					]
				}
			},
			mounted() {
				this.initialDateTimePicker()
			},
			components: {
				Multiselect
			},
			methods: {
				initialDateTimePicker() {
					$('#datetimepicker3').datetimepicker({
						format: 'YYYY/MM/DD HH:mm:ss',
					});
				},
				addTag (newTag) {
					const tag = {
					  name: newTag,
					}
					this.options.push(tag)
					this.value.push(tag)
				}
			}
		});
    </script>
</body>
</html>